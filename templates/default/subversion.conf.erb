<VirtualHost *:443>
  Servername node['subversion']['server_name']
  DocumentRoot /var/www/svn

  SSLEngine on
  SSLCertificateFile node['subversion']['certficate']
  SSLCertificateKeyFile node['subversion']['certificate_key']

  <Location /svn>
    DAV svn
    SVNPath <%= node['subversion']['repo_dir'] %>/<%= node['subversion']['repo_name'] %>
    AuthType Basic
    AuthName "Autorola Subversion repository"
    AuthUserFile <%= node['subversion']['repo_dir'] %>/htpasswd
    Require valid-user
  </Location>
</VirtualHost>
